

<html>

<head>
         <meta charset="utf-8"> 
         <meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>cadastro</title>

	<!-- Referentes ao nav-bar -->
	<link rel="stylesheet" href="{static}assets/css/materialize.css"> 
     <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.98.1/css/materialize.min.css">
     <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
				<link rel="stylesheet" type="text/css" href="{static}assets/css/cadastro.css">
				</link>

				<link rel="stylesheet" type="text/css" href="{static}assets/css/font-awesome.css">

				<link rel="shortcut icon" href="official.ico" type="image/x-icon" />
				<meta name="viewport" content="width=device-width, initial-scale=1.0">
				<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

</head>

<body>


        <header class="navbar">  
            <nav class="N/A transparent"> 

                <!--Colocar todo o conteúdo do painel da nav-bar--> 

                 <div class="nav-wrapper container" > 
 
                <!--Logo--> 

                <a href="inicial" class="brand-logo"><img src="{static}assets/images/official.png" class="circle left mini-logo"></img> UniWallet </a> 

                     <!--Para esconder o conteúdo da direita--> 

                       <ul id="nav-mobile" class="right hide-on-med-and-down"> 

                 <li><a href="inicial">
                 <i class="material-icons left">lock_open</i>
                 <span>Login</span> 

                       <li><a href="sobre">
                 <i class="material-icons left ">group</i>
                 <span>Sobre</span>
                 </a></li> 

                 <li><a href="faleconosco">
                 <i class="material-icons left ">phone</i>
                 <span> Fale Conosco</span>
                 </a>

                       </ul> 

                 </div> 
            </nav>  
 
         </header>

	<table>
	
			<div class="containercadastro">
				<img src="{static}assets/images/uwlogo.gif">
				<form>
					<div id="div_mensagem_retorno" style="font-size: 30px; color: red">

					</div>

					<div class="form-input">
	 					<input class="input-form" type="text" name="fullname" size="30" minlenght="3" maxlength="50" placeholder="Nome Completo">
					</div>

					<div class="form-input">
						<input class="input-form" type="text" name="cpf" placeholder="CPF">
					</div>

					<div class="form-input">
						<input class="input-form" type="password" name="password" size="30" minlength="6"  placeholder="Senha">
					</div>

					<div class="form-input">
						<input class="input-form" type="password" size="30" minlength="6" placeholder="Confirme sua senha">
					</div>
				
					<div class="form-input"> 
						<form method="post" action="" onSubmit="return ( verifica() )" name="frmEnvia">
						   <input class="input-form" name="email" type="text" class="input" id="email" placeholder="E-mail" onblur="checarEmail();" />
						</form>
					</div>


					<div class="form-input">
						<input class="input-form" type="text" name="email" placeholder="Confirme seu E-mail">
					</div>


					<div class="form-input">
						<input class="input-form" type="text" name="university" placeholder="Universidade">
					</div>

					<!-- Foi retirado pois ocorreram mudanas nos direcionamentos das telas
					<br>
					<a href="empresa">Cadastre-se como empresa</a>
				</form> -->
				<button class="btn-login" id="botao_submit">CADASTRE-SE</button>
			</div>


<script src="https://code.jquery.com/jquery-3.2.0.min.js"></script>
<script src="{static}assets/js/uniwallet-backend-api.js"></script>

<script type="text/javascript">

//Função JavaScript para validação de e-mail 

function verifica() {
  if (document.forms[0].email.value.length == 0) {
    alert('Por favor, informe o seu EMAIL.');
	document.frmEnvia.email.focus();
    return false;
  }
  return true;
}
 
function checarEmail(){
if( document.forms[0].email.value=="0" 
   || document.forms[0].email.value.indexOf('@')==-1 
     || document.forms[0].email.value.indexOf('.')==-1 )
	{
	   alert( "Por favor, informe um E-MAIL válido!" );
	   return false;
	}
}

	//Adiciona um evento no botão de enviar dados
	Page.listen("botao_submit", function(){

		//Pega os dados inseridos nos campos de input
		data = Page.get_input("input-form")

		//Envia dos dados para a rota especificada e executa a função passada como parâmetro logo que a resposta é recebida
		Request.send(data, "consumer/register", "POST", function(response){

			if (response.code == 200){ //Se tudo der certo então há redirecionamento para página inicial
				Page.redirect("usuario")
			} else {
				Page.fill("div_mensagem_retorno", response.content) //Insere a mensagem na div
			}

		})
	})

</script>

</body>

</html>
